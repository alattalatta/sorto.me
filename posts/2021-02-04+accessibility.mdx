---
title: 시맨틱 마크업 - Google 편
excerpt: Google은 시맨틱 마크업을 어떻게 하고 있을까
---

# 시맨틱 구획 요소에는 명확한 규칙이 없다

`<section>` 요소와 `<article>` 요소는 언제 써야 잘 쓰는 걸까? `<article>`은 "독립된" 구획이라는 것 외에는 아주 일반적인 예시로 설명하는 글만 찾을 수 있었다. "블로그 글"의 컨테이너 요소가 `<article>`인 것은 고민하지 않아도 되지만, "글 목록의 단일 항목"은 `<article>`일까 `<div>`일까, 그것도 아니면 `<li>`일까? 어떤 것을 써야 내 의도를 정확히 표현할 수 있을까?

`<section/article>`은 자신만의 헤딩을 가져야 하는데, 어디까지가 헤딩이고 어디까지가 문단일까? 비록 내 질문에 대한 답은 없었지만, 앞선 질문은 그나마 *HTML5*의 신규 명세라고 과거에 쓰인 글이라도 많았다. `<h1-6>` 태그는 SEO용 강조를 제외하면 찬밥 신세인 경우가 많으므로, "글 목록의 제목은 `<p>`일까 `<h*>`일까?"와 "디자인에 헤딩이 아예 없으면 시맨틱 구획을 지정해선 안 되는 건가?" 등은 항상 궁금했으나 알 수가 없었다.

## 사용자 접근성, 개발자 접근성

안타깝게도 기업 차원에서 접근성에 대한 홍보를 하지 않는 이상, 절대적으로 작은 사용자층으로 인해 접근성은 그렇게 주목받지 않는다고 느낀다. 그래도 소수의 사용자까지 배려하려는 것이 접근성의 존재 의의니, 재활용도 개인의 노력이 쌓여서 만드는데 접근성도 나부터 신경을 써야 하지 않을까.

헤딩은 그렇지만 시맨틱 구획은 어디까지나 권고 사항에 불과하고, 실제 모습과 기능에는 아무런 영향도 끼치지 않으므로 HTML5의 첫 발표 이후로 상당한 시간이 지난 지금은 아무도 크게 신경 쓰지 않나 보다.

기능적 차이가 없어서 와 닿지 않는다면, 좀 더 이기적으로 이렇게 생각해보면 어떨까?

```html
<div>
  <div>
    <div>
      <p>...</p>
      <!-- ... -->
    </div>
  </div>
</div>
```

```html
<article>
  <div>
    <header>
      <h1>...</h1>
      <!-- ... -->
    </header>
  </div>
</article>
```

위쪽보다는 아래쪽이 유지보수할 때 알아보기 쉽다. 잘 읽히는 코드가 좋은 코드라고 했다. 마크업 문서도 잘 읽히면 좋은 마크업이라고 하자. HTML에는 정답이 없다고 말하곤 하지만, 올바른 방향을 정해두면 유지보수를 할 미래의 나를 위한 접근성을 확보할 수 있지 않을까.

## 알아보자

이 주제에 대한 검색의 한계를 느꼈으므로 자주 사용하는 공룡급 사이트 몇 가지를 개발자 도구로 검사하고, 각각의 구획법/헤딩 지정을 알아봤다. 이에 더해, 어차피 마크업을 뜯어봐야 하므로 헤딩/구획과는 관련 없는 접근성 관련 사항도 간단하게 살펴보려고 한다.

### Google부터

Google은 명실상부한 웹 플랫폼의 대표 주자이다. EdgeHTML의 몰락 이전에는 Chromium에서 먼저 구현한 드래프트 명세를 타 브라우저가 따라가는 형태였지만, 이제는 Safari와 Firefox를 제외하면 죄다 Chromium이라서 따라가고 말고를 말할 것도 없어져버렸다.

아무튼, Google이 거대한 회사이기는 하나, 지금의 독점적 지위를 유지하기 위해서라도 웹에 거대한 투자를 하고 있으니 부문(검색, 뉴스...)과 상관 없이 고품질 자료를 얻을 수 있을거라 기대했다.

- 검색 결과
- 뉴스

<Callout color="warn" label="한계">
  Google Cloud 소개 페이지처럼 상품 관련한 페이지는 SEO를 신경써야 외부 검색 엔진에 들어가겠지만, 검색 결과와 뉴스 등
  콘텐츠 페이지는 그럴 필요가 없으므로 일반적인 서비스의 마크업과는 다를 수도 있습니다.
</Callout>

# Google 검색

![Google 검색 화면, 예상 레이아웃](/images/2021-02-04/google-search-expected.jpg)

모두에게 익숙한 구글 검색 화면이다. 위 사진은, 시맨틱 구획을 나눌 때 이렇게 나눌 수 있지 않을까? 하여 포토샵으로 그려본 것인데, 본문 부분 `<section>`의 헤딩을 어떻게 넣어야 하는지가 글의 첫 부분에 적었던 궁금증 중 하나였다. 이 질문은 바로 답을 찾을 수 있었지만, 실제 마크업은 예상과 무척 달랐다.

## 구획 요소 중 `<div>`만 사용

시맨틱 요소를 단 하나도 사용하지 않았다. 전 세계의 극도로 넓은 고객층을 상대하기 위해 최대한 호환성을 택한 것인지, 아니면 기능적인 의미가 전혀 없으므로 의도적으로 배제한 것인지는 잘 모르겠으나, 괜히 시맨틱 마크업을 주제로 한 글의 빈도가 확 떨어진 것은 아니라는 점을 느낄 수는 있었다.

## 시각적 순서 ≠ 마크업 순서

웹 페이지 검색 결과를 보면 위쪽에 페이지 URL, 그 밑에 페이지 이름이 나타나므로, 보통 구현하면 그 순서 그대로 마크업을 작성하게 된다.

```html
<span>https://sorto.me/</span>
<h3>Sorto.me</h3>
```

그러나 개발자 도구로 살펴보면 두 순서가 바뀌어있음을 알 수 있다. 대다수의 사용자는 글씨 크기와 색상, 위치 등으로 `https://sorto.me/`가 *Sorto.me*의 주소임을 알 수 있지만, 시각적 정보를 사용하기 힘든 경우 주소를 사이트 이름보다 먼저 볼 수밖에 없으므로 이해하기 불편하다. 그래서 Google은 순서를 페이지 이름 - 페이지 주소로 해놓고, 주소에 `position: absolute`를 사용해 시각적으로만 위에 올려놨다. 플렉스 레이아웃 + `flex-direction: *-reverse`을 사용한 경우에도 시각적 순서만 역전되므로 동일한 효과를 기대할 수 있겠다.

## `<h1>`은 오로지 스크린 리더 내비게이션 전용

![Google 검색 화면, 실제 레이아웃](/images/2021-02-04/google-search-actual.jpg)

페이지 내의 모든 `<h1>`이 시각적으로 보이지 않는 것은 전혀 예상하지 못했다. 검색 종류 탭에도 사실 `<h1>검색 모드</h1>`가 있었고, 검색 본문에도 `<h1>검색 결과</h1>`가 존재한다. 시각적 사용자가 보는 모든 헤딩은 `<h2>` 이하인 것.

아예 자기 자신은 물론 하위 콘텐츠까지도 시각적으로 볼 수 없는 "접근성 링크" 구획도 있으며, 주요 콘텐츠를 가리키는 단축 링크와 함께 접근성 도움말 및 피드백 링크를 포함한다.

또한 예상 레이아웃에서 헤딩 영역 Google 브랜드 이미지에 `<h1>` 표시를 해놓았는데, 실제로는 단순한 링크로 구성되어있다. 생각해보면 브랜드 이미지에 `<h1>`을 넣을 필요가 없는 것이 맞다. 이 페이지가 *Google*이라는 것은 페이지 제목만으로도 도출이 가능한데, 굳이 맨 위에 있다는 이유 하나만으로 의미 없는 헤딩 구획을 하나 추가해야 할까?

브랜드 이미지에서 배울만한 점은 또 있다.

```html
<a href="/" title="Google 홈페이지로 이동">
  <img alt="Google" />
</a>
```

보통 `alt="브랜드 명"`으로 끝내는데 Google은 `title="홈페이지로 이동"`이라는, 링크의 동작에 대한 설명을 곁들였다는 점이다. `alt="icon"`처럼 뜻 없는 `alt` 특성이 최악의 사용법이라는 점은 인지하고 있었으나, `title` 특성을 사용해 링크의 실제 동작을 서술하는 것은 미처 생각하지 못했다. 더군다나 `title` 특성은 호버 시 툴팁으로도 표현되므로, 시각적 접근성이 함께 향상된다.

예외적으로 "보완 검색 결과"는 `<h2>`로 되어있는데, 지식 패널의 회사 이름이 이미 `<h2>`이므로 버그라고 생각한다. 보완 검색 결과를 `<h1>`으로 올려야 하지 않을까...

### 페이지의 `<h1>`은 오직 하나만?

여기저기 돌아다니는 주장인데, 이전 회사에서도 SEO 컨설팅 업체에서 이런 조언을 받았다고 한다. (바로 밑에서도 말하겠지만, SEO 향상에는 의미가 없다고 반박하는 글도 많다) 사실 [해시태그 넣듯이 페이지의 키워드를 메타 태그에 지정하는 부질없는 일](https://developers.google.com/search/blog/2009/09/google-does-not-use-keywords-meta-tag)을 하고 있던 것 역시 해당 업체의 컨설팅 결과임을 알게 된 이후로는 신뢰도가 좀 낮아지긴 했지만, 막연히 페이지 전반을 나타내는 태그가 `<h1>`이지 않을까- 하는 생각이 있던 것은 사실이기에 넘어갔었다.

우선 SEO는 관련이 없다. Google에 한해서는 복수의 `<h1>` 태그가 [검색 랭크에 영향을 주지 않는다](https://searchengineland.com/multiple-h1s-wont-get-in-the-way-of-your-seo-google-says-322909). 다만 시맨틱 헤딩은 여전히 **페이지 맥락을 파악할 때 사용**한다고 하니, 시맨틱 구획의 좁은 입지는 약간 실망스럽지만 그래도 올바른 헤딩의 중요성은 강조할 수 있겠다.

<Callout color="warn" label="참고">
  네이버 검색 엔진에 대한 자료는 찾지 못했습니다.
</Callout>

오히려 접근성 측면에서 봤을 때 `<h1>`이 페이지 제목 급으로 단 하나 존재해야 한다는 주장도 있지만, 이건 경험상 옳지 않았다. 스크린 리더를 켜보면 웹 페이지 내의 모든 헤딩을 목록으로 읽어주는 기능이 있는데, 선택한 헤딩으로 빠르게 이동도 할 수 있다. 그런데 장바구니 페이지의 맨 위에 "장바구니"라는 제목이 있다고 해도... `<title>`로도 알 수 있는 정보를 `<h1>장바구니</h1>`로 만들어서 헤딩 목록을 시끄럽게 해야 할까?

<Callout color="warn" label="참고">
  그러나 페이지 제목이 <code>&lt;title&gt;</code>과는 다른, 유의미한 정보를 포함할 수도 있다면 <code>&lt;h1&gt;</code>을 페이지 제목으로 예약해놓는 것이 좋을지도 모릅니다.
</Callout>

## 리스트 항목에도 `<h*>` 사용

제일 궁금했던 것이다. 리스트의 항목은 대개 작은 편인데, 과연 이 경우에도 헤딩 구획을 나누는 게 맞을까, 아니면 단순 문단으로 처리하는 것이 맞을까? Google 검색에서는 전자를 선택했다. 아무리 작더라도, 해당 항목의 주소나 날짜 등 이름에 종속되는 요소가 몇 개는 있으므로, 그 구분을 명확히 할 수 있도록 개발한 것으로 보인다.

# Google 뉴스

![Google 뉴스 화면, 예상 레이아웃](/images/2021-02-04/google-news-expected.jpg)

Google 뉴스 역시 예상 구획을 나눠보는 것부터 시작했다. 눈에 보이는 것과 보이지 않는 헤딩 둘 다 적극적으로 사용한다는 것을 검색 화면에서 배웠으므로 예상도 그렇게 맞춰봤다. 숨겨진 헤딩을 예상한 곳도 표시해놨다.

## 구획 요소 사용

검색과는 달리, Google 뉴스에서는 구획 요소를 많이 쓰고 있었다. 예상과 다른 것은 왼쪽이 `<aside>`가 아니고 `<div role="menu">`였다는 점 정도와, 관련 기사끼리 `<article>`로 묶여있지 않았다는 점이다.

## `<h1>`의 부재

`document.querySelectorAll('h1')`을 실행해보면 빈 `NodeList`가 돌아온다. `<h1>` 밑의 `<h3>`처럼 중간을 빼는 것은 좋지 않다는 것은 확실하지만, 아예 중간부터 시작하는 건 괜찮은 걸까?

## 각자 `<article>`

![Google 뉴스 화면, 실제 레이아웃 - 헤드라인](/images/2021-02-04/google-news-actual.jpg)

디자인적으로는 관련 기사끼리 테두리 안에 묶여있으나, 마크업에서는 헤딩 구획(`<h3>` - `<h4>`)으로만 관계가 있고, 직접적인 시맨틱 구획의 사용은 없이 단순 `<div>`로 묶여있다.

## 앵커는 사실 오버레이

(나는) 보통 한 블록에 링크를 걸고 싶을 땐 블록 요소를 `<a>` 태그로 감싸서 구현한다.

```html
<a>
  <article><!-- ... --></article>
</a>
```

그런데 구글 서비스는 `a > article`의 구조가 아니고 `article > a`의 구조다.

```html
<article>
  <a style="position: absolute"></a>
  <!-- ... -->
</article>
```

그리고 `<a>` 태그는 절대 위치를 사용해 `<article>`의 위를 마치 오버레이처럼 완전히 덮고 있다.

왜 이렇게 했는지는 잘 모르겠다. 스크린 리더도 켜봤는데 음성 표현이 달라지는 부분도 찾지 못했다. HTML 4.01까지는 인라인 요소 안에 블록 요소가 들어가면 안됐다고는 들었지만, HTML 5/WHATWG HTML의 [콘텐츠 카테고리](https://developer.mozilla.org/ko/docs/Web/Guide/HTML/Content_categories) 모델로 바뀐 이후로는 그렇지 않다. [`<a>` 요소의 "가능한 콘텐츠"](https://developer.mozilla.org/ko/docs/Web/HTML/Element/a#%EC%86%8D%EC%84%B1) 항목을 보면 "플로우 콘텐츠"를 허용하므로 `<article>`이나 `<div>`도 들어갈 수 있는데... Apple VoiceOver 말고 다른 스크린 리더에서는 문제가 생기는 걸까?

## `aria-label`

예상 레이아웃에서 날씨 부분을 보면 헤딩으로 삼을만한 부분이 "서울특별시"인데, 이게 무슨 서울특별시인지 전혀 도움이 되지 않아서 최상위 투명 헤더가 따로 있을 것이라 생각했다. 그러나 실제로 보니 최상위 헤더는 "서울특별시"가 맞는데, `aria-label="서울특별시 - 5일 예보"`를 지정해놓았다.

# 셀프 피드백

불필요한 시맨틱 구획 요소를 늘리기보다는 헤딩 요소가 생성하는 암시적 구획을 잘 활용해야겠다. 어차피 구획 요소는 헤딩이 없으면 의미가 없다.

사실 헤딩과 글씨 크기는 아무 상관이 없다는 건 머리로는 알고 있지만, 그럼에도 디자인 상 작은 크기의 글씨에 높은 등급의 헤딩 요소를 쓰는 건 아직 망설임이 조금 남아있다. 그래서 리스트 항목에 `<h*>` vs. `<p>` vs. `<div/span>`을 고민한 건데, 항목의 이름 격인 부분에 종속되는 값, 예컨대 작성 날짜나 작성자, 이커머스라면 가격 정보 등이 존재한다면 헤딩 구획을 생성하는 것이 맞다는 생각도 하게 됐다.

마지막으로, 헤딩같은 텍스트 요소에도 `aria-label`을 쓸 수 있다는 것도 배웠다. 이미 최상위 헤딩 요소가 존재하면 투명 헤딩 끼워넣는다고 고생하지 말고, `aria-label`을 써보자.
